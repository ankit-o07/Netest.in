<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn subnetting in 5 easy steps with this comprehensive guide. Understand IP addresses, subnet masks, and network segmentation for network engineers and IT professionals.">
    <meta name="keywords" content="subnetting, networking, IP addresses, subnet mask, network segmentation, IT guide, CCNA, CCNP">
    <meta name="author" content="Networking Essentials">
    <title>Border Gateway Protocol (BGP)</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Light Mode Colors */
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --primary-color: #667eea;
            --primary-hover: #5a6fd8;
            --secondary-color: #764ba2;
            --accent-color: #ff6b6b;
            --accent-hover: #ff5252;
            
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            
            --bg-primary: #ffffff;
            --bg-secondary: #f7fafc;
            --bg-tertiary: #edf2f7;
            --bg-card: #ffffff;
            --bg-overlay: rgba(255, 255, 255, 0.95);
            
            --border-color: #e2e8f0;
            --border-hover: #cbd5e0;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
            --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.1);
            
            --success-color: #48bb78;
            --warning-color: #ed8936;
            --error-color: #f56565;
            --info-color: #4299e1;
            
            --ad-bg: #f8f9fa;
            --ad-border: #e9ecef;
            --ad-text: #6c757d;
        }

        [data-theme='dark'] {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --primary-color: #7c3aed;
            --primary-hover: #8b5cf6;
            --secondary-color: #a855f7;
            --accent-color: #f59e0b;
            --accent-hover: #fbbf24;
            
            --text-primary: #f7fafc;
            --text-secondary: #525252;
            --text-muted: #a0aec0;
            
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --bg-card: #1e293b;
            --bg-overlay: rgba(15, 23, 42, 0.95);
            
            --border-color: #334155;
            --border-hover: #475569;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.4);
            --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.3);
            
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --info-color: #3b82f6;
            
            --ad-bg: #1e293b;
            --ad-border: #334155;
            --ad-text: #94a3b8;
            
            /* Dark mode specific overrides */
            --nav-text-color: #e2e8f0;
            --date-text-color: #a0aec0;
            --related-text-color: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 600;
            line-height: 1.2;
            color: var(--text-primary);
        }

        .navbar {
            background: var(--bg-overlay) !important;
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .navbar .container-fluid {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            gap: 2rem;
        }

        .navbar-brand {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.75rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .navbar-brand:hover {
            transform: scale(1.05);
        }

        .navbar-nav {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-left: auto;
        }

        .navbar-nav .nav-link {
            color: var(--nav-text-color, var(--text-secondary));
            font-weight: 500;
            font-size: 0.95rem;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .navbar-nav .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: var(--primary-gradient);
            transition: width 0.3s ease;
            z-index: -1;
            border-radius: 0.75rem;
        }

        .navbar-nav .nav-link:hover::before,
        .navbar-nav .nav-link.active::before {
            width: 100%;
        }

        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link.active {
            color: white !important;
            transform: translateY(-2px);
        }

        .dropdown-menu {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 1rem;
            box-shadow: var(--shadow-xl);
            padding: 0.75rem;
            margin-top: 1rem;
        }

        .dropdown-item {
            padding: 0.75rem 1rem;
            color: var(--nav-text-color, var(--text-secondary));
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }

        .dropdown-item:hover,
        .dropdown-item.active {
            background: var(--primary-gradient);
            color: white;
            transform: translateX(4px);
        }

        .theme-toggle {
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.75rem;
            font-size: 1.25rem;
            border-radius: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .theme-toggle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: var(--primary-gradient);
            transition: width 0.3s ease;
            z-index: -1;
        }

        .theme-toggle:hover::before {
            width: 100%;
        }

        .theme-toggle:hover {
            color: white;
            border-color: transparent;
            transform: scale(1.1) rotate(15deg);
        }

        .ad-banner {
            background: var(--ad-bg);
            border: 1px solid var(--ad-border);
            border-radius: 0.75rem;
            padding: 1rem;
            margin: 1.5rem 0;
            text-align: center;
            color: var(--ad-text);
            font-size: 0.875rem;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .gradient-text {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 1.5rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary-gradient);
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary-color);
        }

        .btn-primary {
            background: var(--primary-gradient);
            border: none;
            border-radius: 0.75rem;
            padding: 0.875rem 1.75rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .table {
            background: var(--bg-card);
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        .table th {
            background: var(--primary-gradient);
            color: white;
            font-weight: 600;
            border: none;
        }

        .table td {
            border-color: var(--border-color);
            color: var(--text-secondary);
        }

        .code-block {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 2rem 0;
            border-left: 4px solid var(--accent-color);
        }

        .code-block h4 {
            color: var(--accent-color);
            margin-bottom: 1rem;
        }

        .code-block pre {
            background: var(--bg-primary);
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.4;
            color: var(--text-primary);
        }

        .subnet-calculation {
            background: var(--bg-secondary);
            padding: 2rem;
            border-radius: 1rem;
            margin: 2rem 0;
            border-left: 4px solid var(--info-color);
        }

        .subnet-item {
            background: var(--bg-card);
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }

        .subnet-item h5 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .tip-item {
            background: var(--bg-card);
            padding: 1.5rem;
            border-radius: 1rem;
            border: 1px solid var(--border-color);
            text-align: center;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .tip-item:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .tip-item i {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .faq-item {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .faq-item h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .related-article {
            display: block;
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 0.75rem;
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }

        .related-article:hover {
            background: var(--primary-color);
            color: white;
            transform: translateX(4px);
        }

        .related-article p {
            font-size: 0.875rem;
            margin: 0;
            opacity: 0.8;
            color: var(--related-text-color, var(--text-secondary));
        }

        .footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding: 3rem 0 2rem;
            margin-top: 4rem;
            text-align: center;
            color: var(--text-muted);
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            background: var(--bg-secondary);
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: var(--primary-color);
            color: white;
            transform: translateX(-4px);
        }

        .tag {
            background: var(--primary-gradient);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            margin-right: 0.5rem;
            display: inline-block;
            margin-bottom: 0.5rem;
        }

        .share-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: 50%;
            text-decoration: none;
            transition: all 0.3s ease;
            margin-right: 0.5rem;
        }

        .share-button:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--primary-gradient);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Responsive adjustments */
        @media (max-width: 991.98px) {
            .navbar .container-fluid {
                gap: 1rem;
            }
            
            .navbar-collapse {
                background: var(--bg-overlay);
                backdrop-filter: blur(20px);
                border-top: 1px solid var(--border-color);
                margin-top: 1rem;
                padding: 1rem;
                border-radius: 1rem;
            }
            
            .dropdown-menu {
                position: static;
                transform: none;
                box-shadow: none;
                border: none;
                background: var(--bg-tertiary);
                margin-left: 1rem;
                border-radius: 0.5rem;
                margin-top: 0.5rem;
            }
        }

        @media (max-width: 768px) {
            .navbar-collapse {
                background: var(--bg-overlay);
                backdrop-filter: blur(20px);
                border-top: 1px solid var(--border-color);
                margin-top: 1rem;
                padding: 1rem;
                border-radius: 1rem;
            }

            .dropdown-menu {
                position: static;
                transform: none;
                box-shadow: none;
                border: none;
                background: var(--bg-tertiary);
                margin-left: 1rem;
                border-radius: 0.5rem;
                margin-top: 0.5rem;
            }

            .article-meta {
                flex-direction: column;
                align-items: flex-start;
            }

            .article-navigation {
                flex-direction: column;
                align-items: stretch;
            }

            .article-share {
                justify-content: center;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .fade-in:nth-child(2) { animation-delay: 0.1s; }
        .fade-in:nth-child(3) { animation-delay: 0.2s; }
        .fade-in:nth-child(4) { animation-delay: 0.3s; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="/">Networking Essentials</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="../blogs.html">Blogs</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Tools
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#tests">Tests</a></li>
                            <li><a class="dropdown-item" href="#calculator">AS Calculator</a></li>
                            <li><a class="dropdown-item" href="../ip_address.html">IP Calculator</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Labs
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/blogsPub/EIGRP.html">EIGRP</a></li>
                            <li><a class="dropdown-item" href="/blogsPub/OSPF.html">OSPF</a></li>
                            <li><a class="dropdown-item" href="/blogsPub/RIP.html">RIP</a></li>
                            <li><a class="dropdown-item" href="/blogsPub/BGP.html">BGP</a></li>
                        </ul>
                    </li>
                </ul>
                <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Header Ad Banner -->
    <div class="container-fluid">
        <div class="ad-banner">
            <i class="fas fa-ad"></i>
            <span>Advertisement Space - Header Banner (728x90)</span>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container-fluid">
        <div class="row">
            <!-- Main Article Content -->
            <div class="col-lg-9">
                <div class="p-4">
                    <article class="blog-article">
                        <header class="mb-5 pb-4 border-bottom">
                            <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap">
                                <a href="#blogs" class="back-link">
                                    <i class="fas fa-arrow-left"></i> Back to Blogs
                                </a>
                                <time datetime="2025-06-02" class="text-muted">June 2, 2025</time>
                            </div>
                            <h1 class="gradient-text mb-3">Border Gateway Protocol (BGP)</h1>
                            <p class="lead mb-4">Border Gateway Protocol (BGP) is the standard protocol for inter-domain routing, enabling the exchange of routing information between autonomous systems (ASes). This comprehensive guide covers all aspects of BGP needed for the CCNP ENARSI certification.</p>
                            <div class="mb-3">
                                <span class="tag">BGP</span>
                                <span class="tag">CCNP ENARSI </span>
                                <span class="tag">Beginner</span>
                            </div>
                        </header>

                        <div class="article-content">
                            <div class="card mb-4">
                                <div class="card-body">
                                    <h3>Table of Contents</h3>
                                    <ul class="list-unstyled"> 
                                        <li><a href="#step1" class="text-decoration-none">1: BGP Overview</a></li>
                                        <li><a href="#step2" class="text-decoration-none">2: BGP Message Types</a></li>
                                        <li><a href="#step3" class="text-decoration-none">3: BGP Neighbor Relationships</a></li>
                                        <li><a href="#step4" class="text-decoration-none">4: BGP Configuration</a></li>
                                        <li><a href="#step5" class="text-decoration-none">5: BGP Path Attributes</a></li>
                                        <li><a href="#step6" class="text-decoration-none">6: Route Selection Process</a></li>
                                        <li><a href="#step7" class="text-decoration-none">7: BGP Route Advertisement</a></li>
                                        <li><a href="#step8" class="text-decoration-none">8: BGP Route Filtering</a></li>
                                        <li><a href="#step9" class="text-decoration-none">9: BGP Attributes Manipulation</a></li>
                                        <li><a href="#step10" class="text-decoration-none">10: BGP Troubleshooting</a></li>
                                        <li><a href="#step11" class="text-decoration-none">11: BGP Peering Authentication</a></li>
                                        <li><a href="#step12" class="text-decoration-none">12: Route Reflectors</a></li>
                                        <li><a href="#step13" class="text-decoration-none">13: Confederations</a></li>
                                        <li><a href="#step14" class="text-decoration-none">14: BGP Route Dampening</a></li>
                                        <li><a href="#step15" class="text-decoration-none">15: BGP for IPv6</a></li>
                                        <li><a href="#step16" class="text-decoration-none">16: BGP with MPLS VPNs</a></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Inline Ad -->
                            <div class="ad-banner">
                                <i class="fas fa-ad"></i>
                                <span>Advertisement Space - Inline Banner (468x60)</span>
                            </div>

                            <section id="step1" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Overview</h3>
                                <div>
                                    <h3>Purpose of BGP</h3>
                                    <p>Border Gateway Protocol (BGP) is the standard protocol for inter-domain routing, enabling the exchange of routing information between autonomous systems (ASes). An AS is a collection of IP networks under a single administrative entity, such as an ISP or large enterprise. BGP ensures global reachability across the internet by determining optimal paths between ASes.</p>
                                </div>

                                <div>
                                    <h3>Path-Vector Protocol</h3>
                                    <p>BGP is a path-vector protocol, maintaining a table of paths (or AS paths) to each destination. Each route includes a list of ASes that the packet must traverse, preventing loops and providing policy-based routing decisions based on attributes like AS path length.</p>
                                </div>

                                <div>
                                    <h4>BGP vs IGP</h4>
                                    <p>Unlike Interior Gateway Protocols (IGPs) like OSPF or EIGRP, which operate within a single AS and optimize for speed and bandwidth, BGP focuses on scalability and policy control across ASes. IGPs use metrics like cost or bandwidth, while BGP uses attributes like AS path and local preference for path selection. BGP handles larger routing tables and supports complex policies but converges slower than IGPs.</p>
                                </div>
                            </section>

                            <section id="step2" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Message Types</h3>

                                <ul>
                                    <li><strong>Open: </strong> Initiates a BGP session, exchanging AS numbers, router IDs, and capabilities.</li>
                                    <li><strong>Update:</strong> Advertises new routes or withdraws unreachable ones, including path attributes and NLRI (Network Layer Reachability Information).</li>
                                    <li><strong>Keepalive:</strong> Sent periodically (default 60 seconds) to maintain neighbor sessions.</li>
                                    <li><strong>Notification:</strong> Sent when an error occurs, closing the session (e.g., invalid AS number).</li>
                                </ul>
                            </section>

                            <section id="step3" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Neighbor Relationships</h3>
                                <div>
                                    <h4>iBGP vs eBGP</h4>
                                    <ul>
                                        <li><strong>iBGP:</strong> Runs between routers in the same AS. iBGP peers share routes learned from eBGP but require a full mesh or solutions like route reflectors.</li>
                                        <li><strong>eBGP:</strong> Runs between routers in different ASes, typically across organizational boundaries. eBGP peers directly exchange routes between ASes.</li>
                                    </ul>
                                </div>

                                <div>
                                    <h4>BGP Neighbor States</h4>
                                    <p>BGP neighbors progress through these states:</p>
                                    <ul>
                                        <li><strong>Idle:</strong> No connection initiated.</li>
                                        <li><strong>Connect:</strong> TCP connection attempt in progress.</li>
                                        <li><strong>Active: </strong>TCP connection failed, retrying.</li>
                                        <li><strong>OpenSent:</strong> Open message sent, awaiting reply.</li>
                                        <li><strong>OpenConfirm:</strong> Open message received, awaiting Keepalive.</li>
                                        <li><strong>Established:</strong> Session active, routes can be exchanged.</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4>Requirements for Neighbor Relationships</h4>
                                    <ul>
                                        <li>Matching AS numbers (for iBGP) or different AS numbers (for eBGP).</li>
                                        <li>TCP port 179 connectivity.</li>
                                        <li>Correctly configured neighbor IP addresses.</li>
                                        <li>Consistent timers (optional but recommended).</li>
                                    </ul>
                                </div>
                            </section>

                            <section id="step4" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Configuration</h3>
                                <div>
                                    <h4>eBGP Neighbor Setup</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router> enable
    Router# configure terminal
    Router(config)# router bgp 65001
    Router(config-router)# neighbor 192.168.1.2 remote-as 65002
    Router(config-router)# neighbor 192.168.1.2 activate
    Router(config-router)# network 10.0.0.0 mask 255.255.255.0
    Router(config-router)# exit</code></pre>
                                        </div>
                                    <p>This configures eBGP with AS 65001, peering with a neighbor in AS 65002, and advertises the 10.0.0.0/24 network.</p>
                                </div>

                                <div>
                                    <h4>iBGP Neighbor Setup with Loopback</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# router bgp 65001
Router(config-router)# neighbor 1.1.1.1 remote-as 65001
Router(config-router)# neighbor 1.1.1.1 update-source Loopback0
Router(config-router)# neighbor 1.1.1.1 next-hop-self
Router(config-router)# exit</code></pre>
                                        </div>
                                    <p>Uses a loopback interface for iBGP stability. next-hop-self ensures the router advertises itself as the next hop for routes.</p>
                                </div>

                                 <div>
                                    <h4>eBGP Multihop</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# router bgp 65001
Router(config-router)# neighbor 2.2.2.2 remote-as 65002
Router(config-router)# neighbor 2.2.2.2 ebgp-multihop 2
Router(config-router)# neighbor 2.2.2.2 update-source Loopback0
Router(config-router)# exit</code></pre>
                                        </div>
                                    <p>Allows eBGP peering over multiple hops, useful when neighbors aren't directly connected.</p>
                                </div>

                                
                            </section>


                            <section id="step5" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Path Attributes</h3>
                                <ul>
                                    <li><strong>Next-hop:</strong> IP address of the next router to reach the destination.</li>
                                    <li><strong>AS-path:</strong> Sequence of ASes a route traverses, used to prevent loops.</li>
                                    <li><strong>Origin:</strong> Source of the route (IGP, EGP, or incomplete).</li>
                                    <li><strong>MED:</strong> Suggests preferred entry point to an AS (lower is better).</li>
                                    <li><strong>Local Preference:</strong> Influences outbound path selection within an AS (higher is better).</li>
                                    <li><strong>Weight:</strong> Cisco-specific, local to a router (higher is better).</li>
                                    <li><strong>Community:</strong> Tags routes for policy application (e.g., no-export).</li>
                                </ul>
                            </section>

                            

                            <section id="step6" class="mb-5">
                                <h3 class="gradient-text mb-3">Route Selection Process</h3>
                                <p>BGP selects the best path using these criteria, in order:</p>
                                <ul>
                                    <li>Highest Weight (Cisco proprietary).</li>
                                    <li>Highest Local Preference.</li>
                                    <li>Locally originated routes.</li>
                                    <li>Shortest AS-path.</li>
                                    <li>Lowest Origin (IGP < EGP < incomplete).</li>
                                    <li>Lowest MED.</li>
                                    <li>eBGP over iBGP.</li>
                                    <li>Lowest IGP metric to next-hop.</li>
                                    <li>Lowest Router ID (if no other tiebreakers).</li>
                                </ul>
                                
                            </section>

                            <section id="step7" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Route Advertisement</h3>
                                
                                <div>
                                    <h4>Network Command</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# router bgp 65001
Router(config-router)# network 10.1.1.0 mask 255.255.255.0</code></pre>
                                        </div>
                                    <p>Advertises a specific network into BGP, requiring an exact match in the routing table.</p>
                                </div>

                                <div>
                                    <h4>Route Redistribution</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# router bgp 65001
Router(config-router)# redistribute ospf 1 match internal external</code></pre>
                                        </div>
                                    <p>Redistributes OSPF routes into BGP, with filters to control which routes are advertised.</p>
                                </div>

                                <div>
                                    <h4>Filtering Routes</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# ip prefix-list PERMIT_10 deny 10.2.0.0/16
Router(config)# ip prefix-list PERMIT_10 permit 10.0.0.0/8 le 24
Router(config)# route-map FILTER_10 permit 10
Router(config-route-map)# match ip address prefix-list PERMIT_10
Router(config)# router bgp 65001
Router(config-router)# neighbor 192.168.1.2 route-map FILTER_10 out</code></pre>
                                        </div>
                                    <p>Filters outbound advertisements to allow only specific prefixes.</p>
                                </div>

                            </section>

                            <section id="step8" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Route Filtering</h3>
                                <div>
                                    <h4>Filter-List, Prefix-List, Route-Map</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# ip as-path access-list 1 permit _65002_
Router(config)# route-map AS_FILTER permit 10
Router(config-route-map)# match as-path 1
Router(config)# router bgp 65001
Router(config-router)# neighbor 192.168.1.2 filter-list 1 in</code></pre>
                                        </div>

                                    <p>Filters routes based on AS path, allowing only routes from AS 65002.</p>
                                </div>

                                <div>
                                    <h4>AS-Path Filtering with Regular Expressions</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# ip as-path access-list 2 permit ^65002_65003$
Router(config)# router bgp 65001
Router(config-router)# neighbor 192.168.1.2 filter-list 2 in</code></pre>
                                        </div>
                                    <p>Permits routes originating from AS 65002 and passing through AS 65003.</p>
                                </div>
                            </section>

                            <section id="step9" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Attributes Manipulation</h3>

                                <div>
                                    <h4>Local Preference</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# route-map SET_LOCAL_PREF permit 10
Router(config-route-map)# set local-preference 200
Router(config)# router bgp 65001
Router(config-router)# neighbor 192.168.1.2 route-map SET_LOCAL_PREF in</code></pre>
                                        </div>
                                </div>


                                <div>
                                    <h4>MED</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# route-map SET_MED permit 10
Router(config-route-map)# set metric 50
Router(config)# router bgp 65001
Router(config-router)# neighbor 192.168.1.2 route-map SET_MED out
            </code></pre>
                                        </div>
                                </div>


                                <div>
                                    <h4>Weight</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# route-map SET_WEIGHT permit 10
Router(config-route-map)# set weight 1000
Router(config)# router bgp 65001
Router(config-router)# neighbor 192.168.1.2 route-map SET_WEIGHT in</code></pre>
                                        </div>
                                </div>


                                <div>
                                    <h4>AS-Path Filtering with Regular Expressions</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# route-map AS_PREPEND permit 10
Router(config-route-map)# set as-path prepend 65001 65001
Router(config)# router bgp 65001
Router(config-router)# neighbor 192.168.1.2 route-map AS_PREPEND out</code></pre>
                                        </div>
                                </div>
     
                            </section>

                            <section id="step10" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Troubleshooting</h3>
                                <div>
                                    <h4>Key Commands</h4>
                                    <ul>
                                        <li>show ip bgp: Displays BGP table with attributes.</li>
                                        <li>show ip bgp summary: Shows neighbor status and prefixes received</li>
                                        <li>show ip bgp neighbors: Details neighbor configuration and state.</li>
                                        <li>debug ip bgp: Logs BGP events (use cautiously).</li>
                                        
                                    </ul>
                                </div>

                                <div>
                                    <h4>Common Issues</h4>
                                    <ul>
                                        <li>Stuck in Active: Check TCP connectivity (port 179).</li>
                                        <li>Missing routes: Verify network statements, filters, or next-hop reachability.</li>
                                        <li>Incorrect AS: Ensure neighbor AS matches configuration.</li>
                                    </ul>
                                </div>
                                

                                
                            </section>

                            <section id="step11" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Peering Authentication</h3>
                                <div class="code-block">
                                    
                                    <pre><code>Router(config)# router bgp 65001
Router(config-router)# neighbor 192.168.1.2 password MySecretPass</code></pre>
                                    </div>
                                    <p>Enables TCP MD5 authentication to secure BGP sessions.</p>
                            </section>

                            

                            <section id="step12" class="mb-5">
                                <h3 class="gradient-text mb-3">Route Reflectors</h3>
                                <p>iBGP requires a full mesh, which scales poorly. Route reflectors (RRs) reduce this by allowing a router to reflect routes to other iBGP peers.</p>
                                <div class="code-block">
                                    
                                    <pre><code>Router(config)# router bgp 65001
Router(config-router)# neighbor 1.1.1.1 remote-as 65001
Router(config-router)# neighbor 1.1.1.1 route-reflector-client
Router(config-router)# bgp cluster-id 1.1.1.1
</code></pre>
                                    </div>
                                <p>Configures the router as a route reflector for the specified client.</p>
                                

                            </section>


                            <section id="step13" class="mb-5">
                                <h3 class="gradient-text mb-3">Confederations</h3>
                                <p>Confederations divide an AS into sub-ASes to reduce iBGP full-mesh requirements while appearing as a single AS externally.</p>
                                <div class="code-block">
                                    
                                    <pre><code>Router(config)# router bgp 65010
Router(config-router)# bgp confederation identifier 65001
Router(config-router)# bgp confederation peers 65020
Router(config-router)# neighbor 192.168.1.2 remote-as 65020</code></pre>
                                    </div>
                                    <p>Configures a sub-AS (65010) within confederation AS 65001.</p>

                            </section>

                            <section id="step14" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP Route Dampening</h3>
                                <p>Route dampening suppresses unstable routes to prevent flapping from affecting the network.</p>
                                <div class="code-block">
                                    
                                    <pre><code>Router(config)# bgp dampening 15 750 2000 60</code></pre>
                                    </div>
                                    <p>Sets penalty timers: half-life 15 minutes, reuse 750, suppress 2000, max-suppress 60 minutes.</p>

                            </section>

                            <section id="step15" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP for IPv6</h3>
                                <div>
                                    <h4>IPv6 Peering</h4>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# router bgp 65001
Router(config-router)# neighbor 2001:db8::2 remote-as 65002
Router(config-router)# address-family ipv6
Router(config-router-af)# neighbor 2001:db8::2 activate
Router(config-router-af)# network 2001:db8:1::/64
            </code></pre>
                                        </div>
                                    
                                </div>

                                <div>
                                    <h4>BGP-LU (Label Unicast)</h4>
                                    <p>Used in MPLS networks to advertise labeled IPv4/IPv6 routes.</p>
                                    <h4>AFI/SAFI Concepts</h4>
                                    <p>Address Family Identifier (AFI) and Subsequent AFI (SAFI) define the type of routing information (e.g., IPv4 Unicast, IPv6 Unicast, VPNv4).</p>
                                </div>

                            </section>


                            <section id="step16" class="mb-5">
                                <h3 class="gradient-text mb-3">BGP with MPLS VPNs</h3>
                                <div>
                                    <h4>MP-BGP</h4>
                                    <p>Multi-Protocol BGP extends BGP to support multiple address families, like VPNv4 for MPLS VPNs.</p>
                                </div>
                                <div>
                                    <h4>VPNv4 and Route Distinguishers</h4>
                                    <p>Route Distinguishers (RDs) make overlapping customer prefixes unique in MPLS VPNs.</p>
                                    <div class="code-block">
                                        
                                        <pre><code>Router(config)# router bgp 65001
Router(config-router)# address-family vpnv4
Router(config-router-af)# neighbor 1.1.1.1 activate
Router(config-router-af)# exit
            </code></pre>
                                        </div>

                                    
                                </div>

                            </section>


                            <section id="step17" class="mb-5">
                                <h3 class="gradient-text mb-3">Conclusion</h3>
                                <p>BGP is a robust, policy-driven protocol essential for inter-domain routing. Its flexibility supports complex scenarios like MPLS VPNs, IPv6, and large-scale networks, but it requires careful configuration to optimize performance and stability. Mastery of BGP is critical for CCNP ENARSI, covering neighbor relationships, path attributes, filtering, and troubleshooting.</p>
                            </section>


                        </div>

                        <footer class="mt-5 pt-4 border-top">
                            <div class="d-flex justify-content-between align-items-center flex-wrap">
                                <a href="#blogs" class="nav-button">
                                    <i class="fas fa-arrow-left"></i>
                                    Back to All Blogs
                                </a>
                                <div class="d-flex align-items-center">
                                    <span class="me-3">Share this article:</span>
                                    <a href="#" class="share-button"><i class="fab fa-twitter"></i></a>
                                    <a href="#" class="share-button"><i class="fab fa-linkedin"></i></a>
                                    <a href="#" class="share-button"><i class="fab fa-facebook"></i></a>
                                </div>
                            </div>
                        </footer>
                    </article>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="col-lg-3">
                <div class="p-4">
                    <!-- Sidebar Ad -->
                    <div class="ad-banner">
                        <i class="fas fa-ad"></i>
                        <span>Advertisement Space<br>Sidebar Banner<br>(300x250)</span>
                    </div>

                    <div class="card mb-4">
                        <div class="card-body">
                            <h3> Related Articles</h3>
                            <a href="/blogsPub/Top10CiscoIOSCommands.html" class="related-article">
                                <h4>Top 10 Cisco IOS Commands</h4>
                                <p>Essential commands every network engineer should know</p>
                            </a>
                            <a href="/blogsPub/RouterConfigurationBasics.html" class="related-article">
                                <h4>Router Configuration Basics</h4>
                                <p>Get started with configuring Cisco routers</p>
                            </a>
                            <a href="/blogsPub/IPAddressvsMACAddress.html" class="related-article">
                                <h4>IP vs MAC Address</h4>
                                <p>Understanding the key differences</p>
                            </a>
                        </div>
                    </div>

                    <!-- Another Sidebar Ad -->
                    <div class="ad-banner">
                        <i class="fas fa-ad"></i>
                        <span>Advertisement Space<br>Sidebar Banner<br>(300x600)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Networking Essentials. All rights reserved. | Empowering network professionals worldwide</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Enhanced theme management and mobile navigation with smooth animations
        document.addEventListener('DOMContentLoaded', function() {
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;

            // Check for saved theme preference or default to system preference
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const defaultTheme = savedTheme || (prefersDark ? 'dark' : 'light');

            // Set initial theme
            setTheme(defaultTheme);

            // Theme toggle functionality with smooth transition
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    const currentTheme = document.documentElement.getAttribute('data-theme');
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    
                    // Add transition class for smooth theme change
                    body.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
                    
                    setTheme(newTheme);
                    
                    // Remove transition after animation completes
                    setTimeout(() => {
                        body.style.transition = '';
                    }, 300);
                });
            }

            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Enhanced intersection observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe all fade-in elements
            document.querySelectorAll('.fade-in').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                observer.observe(el);
            });

            // Add active state to current navigation link
            setActiveNavLink();

            // Listen for system theme changes
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                if (!localStorage.getItem('theme')) {
                    setTheme(e.matches ? 'dark' : 'light');
                }
            });

            // Add loading animation completion
            window.addEventListener('load', () => {
                document.body.classList.add('loaded');
            });

            // Functions
            function setTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('theme', theme);
                
                // Update button icon with animation
                if (themeToggle) {
                    const icon = themeToggle.querySelector('i');
                    if (icon) {
                        // Add rotation animation
                        icon.style.transform = 'rotate(180deg)';
                        
                        setTimeout(() => {
                            if (theme === 'dark') {
                                icon.classList.remove('fa-moon');
                                icon.classList.add('fa-sun');
                                themeToggle.setAttribute('aria-label', 'Switch to light mode');
                            } else {
                                icon.classList.remove('fa-sun');
                                icon.classList.add('fa-moon');
                                themeToggle.setAttribute('aria-label', 'Switch to dark mode');
                            }
                            
                            // Reset rotation
                            setTimeout(() => {
                                icon.style.transform = 'rotate(0deg)';
                            }, 150);
                        }, 150);
                    }
                }
            }

            function setActiveNavLink() {
                const currentPath = window.location.pathname;
                const navLinks = document.querySelectorAll('.nav-link');
                
                navLinks.forEach(link => {
                    const href = link.getAttribute('href');
                    link.classList.remove('active');
                    
                    if (href && href.includes('blogs')) {
                        link.classList.add('active');
                    }
                });
            }

            // Add hover effects for cards
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });

            // Add click ripple effect for buttons
            document.querySelectorAll('.btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    const ripple = document.createElement('span');
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.cssText = `
                        position: absolute;
                        width: ${size}px;
                        height: ${size}px;
                        left: ${x}px;
                        top: ${y}px;
                        background: rgba(255, 255, 255, 0.3);
                        border-radius: 50%;
                        transform: scale(0);
                        animation: ripple 0.6s ease-out;
                        pointer-events: none;
                    `;
                    
                    this.style.position = 'relative';
                    this.style.overflow = 'hidden';
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });

            // Add CSS for ripple animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes ripple {
                    to {
                        transform: scale(2);
                        opacity: 0;
                    }
                }
                
                .loaded .fade-in {
                    opacity: 1 !important;
                    transform: translateY(0) !important;
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>